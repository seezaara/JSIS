window.Jsis=function(){window.request=H,window.require=P;var e,t={},n={},r=-1,o=0,i={},a=T({}),l=[],u={},s={},c={},f={selector:"*:not(style,script:not([type='jsis' i])[\\:if] *,[\\:for] *,[\\:if]+[\\:elseif],[\\:elseif]+[\\:elseif],[\\:elseif] *,[\\:if]+[\\:else],[\\:elseif]+[\\:else],[\\:else] *,[\\:wait] *,[\\:wait]+[\\:then],[\\:catch]+[\\:then],[\\:then] *,[\\:wait]+[\\:catch],[\\:then]+[\\:catch],[\\:catch] *)",text_selector:/\$?{([^}]*?{[^]*?}[^}]*?)}|\$?{([^]*?)}/g,css_selector:/(([^,{}\n]+?)(?=(,.*)?\{[^}]*?\}\s*))(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)(?=([^"\\]*(\\.|"([^"\\]*\\.)*[^"\\]*"))*[^"]*$)(?=([^`\\]*(\\.|`([^`\\]*\\.)*[^`\\]*`))*[^`]*$)/g,css_minify:/((\/\*[^*]*\*+([^/][^*]*\*+)*\/)|((\s+(?=[{:};]))|((?<=.+\s*[{:}])\s+))|(;\s*(?=}))|(\s{2,})|(\n\s*)|(\r\n|\n|\r|\t))(?=([^'\\]*(\\.|'([^'\\]*\\.)*[^'\\]*'))*[^']*$)(?=([^"\\]*(\\.|"([^"\\]*\\.)*[^"\\]*"))*[^"]*$)(?=([^`\\]*(\\.|`([^`\\]*\\.)*[^`\\]*`))*[^`]*$)/g,load:":load",attr:":",event:"@",event2:":on",this_test:/[^0-9a-zA-Z_$](this)[^0-9a-zA-Z_$]/,test_loop:/((let|var|const) )? *(([0-9a-zA-Z_$]+)[0-9a-zA-Z_$\[\].'"`]*) *(=|in|of)/,comp_name:"COMP",script_name:"SCRIPT",fake:function(){return""}},d={for:f.attr+"for",if:f.attr+"if",elseif:f.attr+"elseif",else:f.attr+"else",wait:f.attr+"wait",then:f.attr+"then",catch:f.attr+"catch"};function h(e,t){m(e,t);var n=e.querySelectorAll(f.selector);for(let e=0;e<n.length;e++)m(n[e],t)}function m(e,t){if(e.nodeName==f.comp_name)return function(e,t){var n=e.getAttribute(f.attr+"src"),r=e.getAttribute("src"),o=e.getAttribute(f.attr+"prop"),i=null==e.getAttribute(f.attr+"scoped");e.removeAttribute("src"),e.removeAttribute(f.attr+"src"),e.removeAttribute(f.attr+"prop"),e.removeAttribute(f.attr+"scoped");for(var a=document.createElement("div"),l=e.attributes.length-1;l>=0;--l)a.attributes.setNamedItem(e.attributes[l].cloneNode());e.parentNode.replaceChild(a,e),e.remove(),null!=n?k(j,n,a,o,i,t):r&&j(r,a,o,i,t,!1)}(e,t);if(e.nodeName==f.script_name)return function(e,t){return b(e.innerText,"",t)([])}(e,t);var n=e.getAttributeNames().join("");if(n.includes(f.attr)){if(!function(e,t){if(d.for in e.attributes)return void function(e,t,n){var r=e.parentNode,o=e.previousSibling;r.removeChild(e),k(y,_(e,t),e,o,r,n)}(e,e.attributes[d.for],t);if(d.if in e.attributes)return void function(e,t,n){var r=document.createDocumentFragment(),o=e.parentNode,i=o.childNodes,a=e.nextElementSibling,l=[w(i,e)];r.appendChild(e);for(;null!=a&&d.elseif in a.attributes;){var u=a.nextElementSibling;l.push(w(i,a)),r.appendChild(a),a=u}null!=a&&d.else in a.attributes&&(l.push(w(i,a)),r.appendChild(a));k(N,r,l,o,n)}(e,e.attributes[d.if],t);if(d.else in e.attributes||d.elseif in e.attributes){var n=e.attributes[d.else]||e.attributes[d.elseif];return void console.error("Uncaught SyntaxError: Unexpected token",n.name,"without previous if",e)}if(d.wait in e.attributes)return void function(e,t){var n=e.parentNode,r=n.childNodes,o={wait:w(r,e)},i=e.nextElementSibling;if(i){var a=i.nextElementSibling;if(a)var l=i.attributes[d.then]||a.attributes[d.then],u=i.attributes[d.catch]||a.attributes[d.catch];else l=i.attributes[d.then],u=i.attributes[d.catch]}n.removeChild(e),null!=l&&(l=l.ownerElement,o.then=w(r,l),n.removeChild(l));null!=u&&(u=u.ownerElement,o.catch=w(r,u),n.removeChild(u));k(A,e,l,u,n,o,t)}(e,t);if(d.then in e.attributes||d.catch in e.attributes){n=e.attributes[d.then]||e.attributes[d.catch];return void console.error("Uncaught SyntaxError: Unexpected token",n.name,"without previous wait",e)}return!0}(e,t))return;x(e,t)}else n.includes(f.event)&&x(e,t);!function(e,t){var n=[],r=[],o=[],i=e.childNodes;for(let e=0;e<i.length;e++)if(3==i[e].nodeType&&""!=i[e].data.trim())for(;null!==(datajs=f.text_selector.exec(i[e].data));){var a=document.createRange();a.setStart(i[e],datajs.index),a.setEnd(i[e],f.text_selector.lastIndex),n.unshift(a),r.unshift(datajs[1]||datajs[2]),o.unshift("$"==datajs[0][0])}for(var l in n)M(S,r[l],n[l],o[l],t)}(e,t)}function v(e,t,n){try{return Function("_","__","global","_global","prop",'with(_global){with(global){with(__){with(_){with(prop){return function(){"use strict";return ('+e+") }}}}}}")(...t)}catch(t){return console.error(t.message,"at:'",e,"'",n),f.fake}}function p(e,t,n){try{return Function("_","__","global","_global","prop",'with(_global){with(global){with(__){with(_){with(prop){return function(event){"use strict";return ('+e+") }}}}}}")(...t)}catch(t){return console.error(t.message,"at:'",e,"'",n),f.fake}}function b(e,t,n){try{return Function("_","__","global","_global","prop","with(_global){with(global){with(__){with(_){with(prop){"+e+";return function(){ with(this){ return function(){"+t+"}}}}}}}}")(...n)}catch(e){return console.error(e),f.fake}}function g(e){return new Promise((function(t){try{var n={set exports(e){t(e)}};Function("require","module",'"use strict";'+e).call(data,P,n),t({})}catch(e){console.error(e)}}))}function _(e,t){return e.removeAttributeNode(t),t.value}function w(e,t){return Array.prototype.indexOf.call(e,t)}function y(e,t,n,r,o){null==n&&(n=r.firstChild);var i=[],a=!0;return o[4]={...o[4]},function(e,t,n){if(f.this_test.test(e))return console.error("Uncaught SyntaxError: Illegal this usage","at:'",e,"'"),f.fake;try{var r=e.match(f.test_loop)[4];return Function("_","__","global","_global","prop",'with(_global){with(global){with(__){with(_){with(prop){return function(){"use strict";for('+e+"){this("+r+',"'+r+'")} }}}}}}')(...t)}catch(t){return console.error(t.message,"at:'",e,"'",n),f.fake}}(e,o,t).call((function(e,l){a&&(a=!1,F()),n=r.insertBefore(t.cloneNode(!0),n.nextSibling),o[4][l]=e,i.push(n),h(n,o)})),i}function N(e,t,n,r){var o=e.cloneNode(!0).children;if(v(_(i=o[0],i.attributes[d.if]),r,i).call(i))return F(),n.insertBefore(i,n.childNodes[t[0]]),h(i,r),i;F(),o[0].remove();for(let e=0;e<o.length;e++){var i=o[e];if(!(d.elseif in i.attributes))break;if(v(_(i,i.attributes[d.elseif]),r,i).call(i))return h(i,r),n.insertBefore(i,n.childNodes[t[e+1]]),h(i,r),i}return(i=o[o.length-1])&&d.else in i.attributes?(i.removeAttributeNode(i.attributes[d.else]),h(i,r),n.insertBefore(i,n.childNodes[t[t.length-1]]),h(i,r),i):void 0}function A(e,t,n,r,o,i){e=e.cloneNode(!0),null!=t&&(t=t.cloneNode(!0)),null!=n&&(n=n.cloneNode(!0));var a=v(_(e,e.attributes[d.wait]),i,e).call(e);if(F(),r.insertBefore(e,r.childNodes[o.wait]),h(e,i),a instanceof Promise){r=e.parentNode;a.then((function(n){null!=e&&e.remove(),null!=t&&(r.insertBefore(t,r.childNodes[o.then]),i[4]={...i[4]},i[4][_(t,t.attributes[d.then])]=n,h(t,i))}),(function(t){null!=e&&e.remove(),null!=n&&(r.insertBefore(n,r.childNodes[o.catch]),i[4]={...i[4]},i[4][_(n,n.attributes[d.catch])]=t,h(n,i))}))}return function(){null!=e&&(e.remove(),e=void 0),null!=t&&(t.remove(),t=void 0),null!=n&&(n.remove(),n=void 0)}}function x(e,t){var n=e.attributes;f.load in n&&function(e,t){v(e.value,t,e.ownerElement).call(e.ownerElement),e.ownerElement.removeAttributeNode(e)}(n[f.load],t);for(let e=0;e<n.length;)E(n[e],t)?n[e].ownerElement.removeAttributeNode(n[e]):e++}function E(e,t){return e.name.substring(0,3)==f.event2?(e.ownerElement.addEventListener(e.name.substring(3),p(e.value,t,e.ownerElement)),!0):e.name[0]==f.event?(e.ownerElement.addEventListener(e.name.substring(1),p(e.value,t,e.ownerElement)),!0):e.name[0]==f.attr&&(M(C,e.value,e.name.substring(1),e.ownerElement,t),!0)}function C(e,t,n,r){var o=function(e,t,n){if("object"!=typeof n)return n;if("class"==t){for(var r in n)n[r]?e.classList.add(r):e.classList.remove(r);return null}if("style"==t){for(var r in n)r in e.style&&(e.style[r]=n[r]);return null}for(var r in n)if(n[r])return r;return null}(n,t,v(e,r,n).call(n));F(),null!=o&&n.setAttribute(t,o)}function S(e,t,n,r){var o="#text"==t.commonAncestorContainer.nodeName?t.commonAncestorContainer.parentNode:t.commonAncestorContainer;t.deleteContents();var i=v(e,r,o).call(o);if(F(),n){var a=t.createContextualFragment(i);!function(e,t){for(let n=0;n<e.length;n++)h(e[n],t)}(a.children,r),t.insertNode(a)}else t.insertNode(document.createTextNode(i))}function j(e,l,u,s,c,d=!0){d&&(e=v(e,c,l).call(l),F()),u=null!=u&&v(u,c,l).call(l)||{},s?(c=c.slice(0,4))[4]=u:c=[{},T({}),i,a,u];var m,p,g="comp"+Math.floor(1e7*Math.random());l.setAttribute("data-id",g),H(e).then((m=function(e){l.innerHTML="";var t=document.createElement("div");t.innerHTML=e;var n=t.querySelector("template");n?function(e,t,n){var r=e.querySelectorAll("script"),o=e.querySelectorAll("style"),i=function(e,t){var n=0,r=[],o=[],i=[];return{before_load:function(a,l){r[a]=l,++n==t&&e(r.join("\n"),o.join("\n"),i.join(""))},after_load:function(a,l){o[a]=l,++n==t&&e(r.join("\n"),o.join("\n"),i.join(""))},styles:function(a,l,u){i[l]=a?u.replace(f.css_minify,"").replace(f.css_selector,a+" $1"):u.replace(f.css_minify,""),++n==t&&e(r.join("\n"),o.join("\n"),i.join(""))}}}(n,r.length+o.length);for(let e=0;e<r.length;e++)r[e].src?H(r[e].src).then(r[e].hasAttribute(f.attr+"ready")?i.after_load.bind(null,e):i.before_load.bind(null,e)):r[e].hasAttribute(f.attr+"ready")?i.after_load(e,r[e].innerText):i.before_load(e,r[e].innerText);for(let e=0;e<o.length;e++){var a=o[e].getAttribute(f.attr+"scoped");""===a&&(a=t),o[e].hasAttribute("src")?H(o[e].getAttribute("src")).then(i.styles.bind(null,a,e)):i.styles(a,e,o[e].innerText)}}(t,"div[data-id="+g+"]",(function(e,t,r){if(""!=r){var o=document.createElement("style");o.innerHTML=r,l.appendChild(o)}var i=b(e,t,c);l.appendChild(n.content),h(l,c);var a=function(e){var t=e.querySelectorAll("[id]"),n={};for(let e=0;e<t.length;e++)n[t[e].id]=t[e];return n}(l);i.call(a)()})):console.error('Cannot find "template" in component')},p=++r,t[r]=m,function(e){if(p==o)for(t[p](e),delete t[p],o++;o in n;)n[o].fun(n[o].data),delete n[o],o++;else delete t[p],n[p]={fun:m,data:e}}))}function T(e){return new Proxy(e,{get:q,set:$})}function q(t,n,r){return"string"==typeof n&&null!=l&&(n in u||(u[n]=[]),null!=e&&(n in s||(s[n]=[]),s[n].push(e)),u[n].push(l)),t[n]}function $(e,t,n){return e[t]=n,"string"==typeof t&&t in u&&function(e,t){if(null==t)for(let t=0;t<e.length;t++)e[t]();else for(let n=0;n<e.length;n++)L(t[n]),c[t]=e[n]()}(u[t],s[t]),!0}function L(e){var t=c[e];if(null!=t)if("object"==typeof t&&t.length)for(let e=0;e<t.length;e++)t[e].remove&&t[e].remove();else"function"==typeof t?t():t.remove()}function M(e){(l=e.bind.apply(e,arguments))(!0)}function k(t){var n=Math.floor(1e7*Math.random());e=n,l=t.bind.apply(t,arguments),c[n]=l(!0)}function F(){null!=l&&(l=void 0,e=void 0)}function H(e,t,n){return null==n&&(n={}),n.method||(n.method="post"),null==t?n.method||(n.method="get"):"object"!=typeof t||t instanceof FormData||(t=new URLSearchParams(t)),new Promise((function(r,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==this.readyState&&r(this.response)},n.responseType&&(i.responseType=n.responseType),i.onerror=n.onerror,i.onabort=n.onerror,i.ontimeout=n.onerror,i.onprogress=n.ondownload,i.upload.onprogress=n.onupload,i.open(n.method,e,!0),(null!=n.cache?n.cache:"post"==n.method)?i.setRequestHeader("Cache-Control","public, max-age=604800, immutable"):(i.setRequestHeader("Cache-Control","no-cache, no-store, max-age=0"),i.setRequestHeader("Expires","Tue, 01 Jan 1980 1:00:00 GMT"),i.setRequestHeader("Pragma","no-cache")),i.send(t)}))}function P(e,t={}){return H(e).then(g)}function R(e,t){if(null!=t||e instanceof Element||(t=e,e=document.querySelector("*[JSIS]")))return e?void h(e,[{},T({}),i,a,t||{}]):console.error('Cannot find "JSIS" element in document')}return"complete"===document.readyState||"interactive"===document.readyState?R():document.addEventListener("DOMContentLoaded",(function(){R()})),{create:R}}();
